CREATE GENERATOR CHELSEA_PROFILE_GEN;

CREATE TABLE CHELSEA_PROFILE
(
  CHELSEA_PROFILE_KEY DM_KEY,
  GENERIC_KEY DM_KEY,
  NATIONALITY_KEY DM_KEY_N1,
  STATE_OF_ORIGIN_KEY DM_KEY_N1,
  LGA_KEY DM_KEY_N1,
  TRIBE_KEY DM_KEY_N1,
  RELIGION_KEY DM_KEY_N1,
  MINISTRY_KEY DM_KEY_N1,
  DELETED DM_BOOLEAN DEFAULT 0,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  PRIMARY KEY (CHELSEA_PROFILE_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON CHELSEA_PROFILE TO  "SYSDBA" WITH GRANT OPTION;

CREATE TRIGGER TR_CHELSEA_PROFILE FOR CHELSEA_PROFILE
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.CHELSEA_PROFILE_KEY is null)
  then begin
         new.CHELSEA_PROFILE_KEY = gen_id(CHELSEA_PROFILE_GEN, 1);
       end
end
