CREATE GENERATOR BUILDING_FLOOR_GEN;

CREATE TABLE BUILDING_FLOOR
(
  BUILDING_FLOOR_KEY DM_KEY NOT NULL,
  BUILDING_FLOOR_NAME DM_NAME,
  BUILDING_FLOOR_DESCRIPTION DM_BLOB2,
  COMPANY_KEY DM_KEY_N1, 
  DELETED DM_BOOLEAN DEFAULT 0,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  PRIMARY KEY (BUILDING_FLOOR_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON BUILDING_FLOOR TO SYSDBA WITH GRANT OPTION;

CREATE TRIGGER TR_BUILDING_FLOOR FOR BUILDING_FLOOR ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.BUILDING_FLOOR_KEY is null)
  then begin
         new.BUILDING_FLOOR_KEY = gen_id(BUILDING_FLOOR_GEN, 1);
       end
end





