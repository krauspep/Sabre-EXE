alter table EMPLOYEE
add SUPPORT DM_BOOLEAN;
COMMIT;

CREATE GENERATOR COUNCIL_RETURN_GEN;
COMMIT;

CREATE TABLE COUNCIL_RETURN (
    COUNCIL_RETURN_KEY         DM_KEY NOT NULL,
    EMPLOYEE_KEY               DM_KEY NOT NULL,
    JOB_TITLE_KEY               DM_KEY NOT NULL,
    RETURN_MONTH               DM_SMALLINT,
    RETURN_YEAR                DM_SMALLINT,  
    HOLIDAY_PAY_VALUE          DM_CURRENCY,
    PROVIDENT_FUND_VALUE       DM_CURRENCY,
    MORTALITY_FUND_VALUE       DM_CURRENCY,
    COUNCIL_LEVY_VALUE         DM_CURRENCY,
    NEGOTIATED_WAGE_VALUE      DM_CURRENCY,
    DELETED                    DM_BOOLEAN
);

ALTER TABLE COUNCIL_RETURN ADD PRIMARY KEY (COUNCIL_RETURN_KEY);

SET TERM ^ ;
CREATE TRIGGER TR_COUNCIL_RETURN FOR COUNCIL_RETURN
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.COUNCIL_RETURN_KEY is null)
  then begin
         new.COUNCIL_RETURN_KEY = gen_id(COUNCIL_RETURN_GEN, 1);
       end
end
^
SET TERM ; ^

COMMIT;

