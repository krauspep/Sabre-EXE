CREATE GENERATOR OPERATOR_BUTTON_VISIBILITY_GEN;

CREATE TABLE OPERATOR_BUTTON_VISIBILITY
(
  OPERATOR_BUTTON_VISIBILITY_KEY DM_KEY,
  OPERATOR_KEY DM_KEY_N1,
  GENERIC_FILTER DM_BOOLEAN,
  GENERIC_TAB_STATUS DM_BOOLEAN,
  GENERIC_NOTE DM_BOOLEAN,
  GENERIC_SERVICE_HISTORY DM_BOOLEAN,
  GENERIC_PAY_RATE DM_BOOLEAN,
  GENERIC_PRINT DM_BOOLEAN,
  GENERIC_FPSCAN DM_BOOLEAN,
  GENERIC_IMAGE_CAPTURE DM_BOOLEAN,
  GENERIC_PROFILE DM_BOOLEAN,
  GENERIC_VEHICLE DM_BOOLEAN,
  GENERIC_FIND_VEHICLE DM_BOOLEAN,
  GENERIC_CONTACT DM_BOOLEAN,
  GENERIC_LEAVE_MANAGEMENT DM_BOOLEAN,
  GENERIC_ACCESS_CARD DM_BOOLEAN,
  GENERIC_PRINT_ACCESS_CARD DM_BOOLEAN,
  GENERIC_MERGE DM_BOOLEAN,
  GENERIC_FACE_SCAN DM_BOOLEAN,
  DELETED DM_BOOLEAN DEFAULT 0,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  PRIMARY KEY (OPERATOR_BUTTON_VISIBILITY_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON OPERATOR_BUTTON_VISIBILITY TO  "SYSDBA" WITH GRANT OPTION;

CREATE TRIGGER TR_OPERATOR_BUTTON_VISIBILITY FOR OPERATOR_BUTTON_VISIBILITY
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.OPERATOR_BUTTON_VISIBILITY_KEY is null)
  then begin
         new.OPERATOR_BUTTON_VISIBILITY_KEY = gen_id(OPERATOR_BUTTON_VISIBILITY_GEN, 1);
       end
end