CREATE GENERATOR COMPANY_CONTRIBUTION_TYPE_GEN;
COMMIT;

CREATE TABLE COMPANY_CONTRIBUTION_TYPE(
  COMPANY_CONTRIBUTION_TYPE_KEY   DM_KEY,
  COMPANY_CONTRIBUTION_TYPE_NAME  DM_NAME,
  COMPANY_KEY                     DM_KEY,
  DEDUCTION_TEMPLATE_KEY          DM_KEY,
  SARS_CODE                       DM_SARS_CODE,
  COMPANY_CONTRIBUTION_AMT_TYPE   DM_CHAR,
  AMOUNT_OR_PERCENT               DM_CURRENCY,
  TAX_DEDUCTABLE                  DM_BOOLEAN,
  DELETED                         DM_BOOLEAN
);

ALTER TABLE COMPANY_CONTRIBUTION_TYPE ADD PRIMARY KEY (COMPANY_CONTRIBUTION_TYPE_KEY);

SET TERM ^ ;
CREATE TRIGGER TR_COMPANY_CONTRIBUTION_TYPE FOR COMPANY_CONTRIBUTION_TYPE
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.COMPANY_CONTRIBUTION_TYPE_KEY is null)
  then begin
         new.COMPANY_CONTRIBUTION_TYPE_KEY = gen_id(COMPANY_CONTRIBUTION_TYPE_GEN, 1);
       end
end
^
SET TERM ; ^

COMMIT;

