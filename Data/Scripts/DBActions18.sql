CREATE DOMAIN "DM_FINGERPRINT" AS VARCHAR(2048);
COMMIT;

CREATE GENERATOR FINGERPRINT_GEN;
COMMIT;

CREATE TABLE FINGERPRINT
(
FINGERPRINT_KEY           DM_KEY,
EMPLOYEE_KEY              DM_KEY, 
FINGERPRINT_0             DM_FINGERPRINT,
FINGERPRINT_1             DM_FINGERPRINT,
FINGERPRINT_2             DM_FINGERPRINT,
FINGERPRINT_3             DM_FINGERPRINT,
FINGERPRINT_4             DM_FINGERPRINT,
FINGERPRINT_5             DM_FINGERPRINT,
FINGERPRINT_6             DM_FINGERPRINT,
FINGERPRINT_7             DM_FINGERPRINT,
FINGERPRINT_8             DM_FINGERPRINT,
FINGERPRINT_9             DM_FINGERPRINT,
DELETED                   DM_BOOLEAN,
PRIMARY KEY (FINGERPRINT_KEY)
);

COMMIT;

SET TERM ^! ;
CREATE TRIGGER TR_FINGERPRINT FOR FINGERPRINT ACTIVE BEFORE INSERT POSITION 0 AS
begin
  /* first - check for NULL for this column */
  if (new.FINGERPRINT_KEY is null)
  then begin
  /* if NULL, provide a new ID for this generator */
         new.FINGERPRINT_KEY = gen_id(FINGERPRINT_GEN, 1);
       end
end
^!
SET TERM ; ^!

COMMIT;

CREATE DOMAIN "DM_LICENCE" AS VARCHAR(8);
COMMIT;

alter table company
add licence_no dm_LICENCE;
commit;
