CREATE GENERATOR COURT_PROCEDURE_GEN;

CREATE TABLE COURT_PROCEDURE
(
  COURT_PROCEDURE_KEY DM_KEY,
  COURT_REFERENCE DM_VARCHAR_20,
  COURT_NAME_KEY DM_KEY_N1,
  START_DATE DM_DATE,
  DELETED DM_BOOLEAN DEFAULT 0,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  PRIMARY KEY (COURT_PROCEDURE_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON COURT_PROCEDURE TO  "SYSDBA" WITH GRANT OPTION;

CREATE TRIGGER TR_COURT_PROCEDURE FOR COURT_PROCEDURE
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.COURT_PROCEDURE_KEY is null)
  then begin
         new.COURT_PROCEDURE_KEY = gen_id(COURT_PROCEDURE_GEN, 1);
       end
end