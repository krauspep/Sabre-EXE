CREATE GENERATOR FACES_GEN;

CREATE TABLE FACES
(
  FACES_KEY DM_KEY,
  FEATURES DM_BLOB3,
  PICTURE DM_BLOB3, 
  COMPANY_KEY DM_KEY,
  GENERIC_KEY DM_KEY,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  DELETED DM_BOOLEAN  DEFAULT 0,
  PRIMARY KEY (FACES_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON FACES TO SYSDBA WITH GRANT OPTION;

CREATE TRIGGER TR_FACES FOR FACES BEFORE INSERT POSITION 0
AS
begin
  if (new.FACES_KEY is null)
  then begin
         new.FACES_KEY = gen_id(FACES_GEN, 1);
       end
end
