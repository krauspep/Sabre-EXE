CREATE GENERATOR ADDRESS_TYPE_GEN;

CREATE TABLE ADDRESS_TYPE
(
  ADDRESS_TYPE_KEY DM_KEY,
  ADDRESS_TYPE_NAME DM_NAME,
  DELETED DM_BOOLEAN DEFAULT 0,
  ACTIVE_RECORD DM_ACTIVE DEFAULT 1,
  PRIMARY KEY (ADDRESS_TYPE_KEY)
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE ON ADDRESS_TYPE TO  "SYSDBA" WITH GRANT OPTION;

CREATE TRIGGER TR_ADDRESS_TYPE FOR ADDRESS_TYPE
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.ADDRESS_TYPE_KEY is null)
  then begin
         new.ADDRESS_TYPE_KEY = gen_id(ADDRESS_TYPE_GEN, 1);
       end
end

ALTER TABLE INDIVIDUAL_ADDRESS ADD ADDRESS_TYPE_KEY DM_KEY_N1;