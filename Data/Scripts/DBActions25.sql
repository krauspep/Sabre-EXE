SET TERM ^ ;

CREATE TRIGGER "TR_INSERT_OPERATOR" FOR "COMPANY"
ACTIVE AFTER INSERT POSITION 11
AS
BEGIN
  INSERT INTO OPERATOR(
     COMPANY_KEY,
     OPERATOR_NAME, 
     OPERATOR_LOGIN_ID, 
     OPERATOR_PASSWORD, 
     DELETED
)
VALUES
(
  NEW.COMPANY_KEY,
  'Administrator',
  'Administrator',
  'Admin',
  0
);
end
^

CREATE TABLE DEVICE_DATA_TEMP_PRINT
(
DEVICE_ID                                DM_SMALLINT,
USER_NAME_ON_DEVICE   DM_DEVICE_ID,
USER_ID_ON_DEVICE          DM_DEVICE_ID,
USER_PASSWORD                DM_PASSWORD,
USER_PRIVLIGE                     DM_SMALLINT,
USER_ENABLED                    DM_SMALLINT,
FINGERPRINT_0                     DM_FINGERPRINT,
FINGERPRINT_1                     DM_FINGERPRINT,
FINGERPRINT_2                     DM_FINGERPRINT,
FINGERPRINT_3                     DM_FINGERPRINT,
FINGERPRINT_4                     DM_FINGERPRINT,
FINGERPRINT_5                     DM_FINGERPRINT,
FINGERPRINT_6                     DM_FINGERPRINT,
FINGERPRINT_7                     DM_FINGERPRINT,
FINGERPRINT_8                     DM_FINGERPRINT,
FINGERPRINT_9                     DM_FINGERPRINT,
OPERATOR_KEY                     DM_KEY
);

COMMIT;

ALTER TABLE CONTACT
ADD COMPANY_KEY DM_KEY;
COMMIT;

ALTER TABLE CONTACT
DROP EMP_RES_KEY;
COMMIT;

ALTER TABLE CONTACT
ADD EMPLOYEE_KEY DM_KEY;
COMMIT;

ALTER TABLE CONTACT
ADD RESIDENT_KEY DM_KEY;
COMMIT;